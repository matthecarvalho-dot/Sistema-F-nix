<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema Fênix</title>
    <style>
        /* RESET E CONFIGURAÇÕES GERAIS */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        /* CONTAINER PRINCIPAL */
        .login-container {
            background: white;
            border-radius: 10px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            width: 100%;
            max-width: 450px;
            overflow: hidden;
            animation: slideUp 0.5s ease;
        }
        
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* CABEÇALHO COM LOGO */
        .login-header {
            background: #FF6B00;
            color: white;
            padding: 30px 20px;
            text-align: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
        }
        
        .logo-icon {
            font-size: 42px;
            margin-right: 15px;
        }
        
        .logo-text h1 {
            font-size: 28px;
            font-weight: 700;
            letter-spacing: 1px;
        }
        
        .logo-text p {
            font-size: 14px;
            opacity: 0.9;
            margin-top: 5px;
        }
        
        /* ÁREA DO FORMULÁRIO */
        .login-form {
            padding: 40px 30px;
        }
        
        .login-title {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
            font-size: 20px;
            font-weight: 600;
        }
        
        .login-title i {
            color: #FF6B00;
            margin-right: 10px;
        }
        
        /* GRUPOS DE FORMULÁRIO */
        .form-group {
            margin-bottom: 25px;
        }
        
        .form-group label {
            display: block;
            color: #555;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .form-group label i {
            color: #FF6B00;
            width: 20px;
            margin-right: 8px;
        }
        
        .form-input {
            width: 100%;
            padding: 14px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .form-input:focus {
            border-color: #FF6B00;
            outline: none;
            box-shadow: 0 0 0 3px rgba(255, 107, 0, 0.1);
        }
        
        /* CHECKBOX */
        .checkbox-group {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
        }
        
        .checkbox-group input {
            margin-right: 10px;
            width: 18px;
            height: 18px;
            accent-color: #FF6B00;
        }
        
        .checkbox-group label {
            color: #555;
            font-size: 14px;
            cursor: pointer;
        }
        
        /* BOTÕES */
        .btn-login {
            background: #FF6B00;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 16px;
            width: 100%;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .btn-login:hover {
            background: #e55e00;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 0, 0.3);
        }
        
        .btn-login i {
            margin-right: 10px;
        }
        
        .btn-cadastro {
            background: transparent;
            color: #FF6B00;
            border: 2px solid #FF6B00;
            border-radius: 6px;
            padding: 14px;
            width: 100%;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .btn-cadastro:hover {
            background: rgba(255, 107, 0, 0.1);
        }
        
        /* RODAPÉ DO LOGIN */
        .login-footer {
            margin-top: 25px;
            text-align: center;
            color: #777;
            font-size: 13px;
        }
        
        .login-footer p {
            margin: 8px 0;
        }
        
        .login-error {
            color: #ff4444;
            font-weight: 500;
            margin-top: 10px;
            min-height: 20px;
        }
        
        .login-success {
            color: #00C853;
            font-weight: 500;
            margin-top: 10px;
            min-height: 20px;
        }
        
        /* MODAL DE CADASTRO */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: white;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            animation: modalSlide 0.3s ease;
        }
        
        @keyframes modalSlide {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .modal-header {
            background: #FF6B00;
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-header h3 {
            font-size: 18px;
        }
        
        .btn-close {
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
            padding: 0 10px;
        }
        
        .modal-body {
            padding: 30px;
        }
        
        .modal-footer {
            padding: 20px;
            border-top: 1px solid #eee;
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }
        
        .btn-secondary {
            background: #757575;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 10px 20px;
            cursor: pointer;
            font-weight: 600;
        }
        
        .btn-primary {
            background: #FF6B00;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 10px 20px;
            cursor: pointer;
            font-weight: 600;
        }
        
        /* RESPONSIVIDADE */
        @media (max-width: 480px) {
            .login-container {
                margin: 10px;
            }
            
            .login-header {
                padding: 25px 15px;
            }
            
            .login-form {
                padding: 30px 20px;
            }
            
            .logo-text h1 {
                font-size: 24px;
            }
            
            .modal-content {
                width: 95%;
            }
        }
        
        /* SISTEMA PRINCIPAL - ESTILOS BÁSICOS */
        #mainSystem {
            display: none;
            width: 100%;
            min-height: 100vh;
            background: #f5f5f5;
        }
        
        /* Loading */
        .loading {
            text-align: center;
            padding: 50px;
            color: #FF6B00;
            font-size: 18px;
        }
        
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #FF6B00;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- TELA DE LOGIN -->
    <div id="loginScreen">
        <div class="login-container">
            <div class="login-header">
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-fire"></i>
                    </div>
                    <div class="logo-text">
                        <h1>FÊNIX SYSTEM</h1>
                        <p>Sistema de Gestão de Clientes</p>
                    </div>
                </div>
            </div>
            
            <div class="login-form">
                <h2 class="login-title">
                    <i class="fas fa-lock"></i> ACESSO RESTRITO
                </h2>
                
                <div class="form-group">
                    <label for="loginUsuario">
                        <i class="fas fa-user"></i> USUÁRIO
                    </label>
                    <input type="text" 
                           id="loginUsuario" 
                           class="form-input" 
                           placeholder="Digite seu usuário"
                           value="admin">
                </div>
                
                <div class="form-group">
                    <label for="loginSenha">
                        <i class="fas fa-key"></i> SENHA
                    </label>
                    <input type="password" 
                           id="loginSenha" 
                           class="form-input" 
                           placeholder="Digite sua senha"
                           value="admin123">
                </div>
                
                <div class="checkbox-group">
                    <input type="checkbox" id="lembrarUsuario">
                    <label for="lembrarUsuario">Lembrar usuário</label>
                </div>
                
                <button class="btn-login" onclick="fazerLogin()">
                    <i class="fas fa-sign-in-alt"></i> ENTRAR NO SISTEMA
                </button>
                
                <button class="btn-cadastro" onclick="mostrarCadastro()">
                    <i class="fas fa-user-plus"></i> CRIAR NOVA CONTA
                </button>
                
                <div class="login-footer">
                    <p id="loginError" class="login-error"></p>
                    <p id="loginSuccess" class="login-success"></p>
                    <p>Para acesso inicial, use: <strong>admin / admin123</strong></p>
                </div>
                
                <div class="support-link">
                    <p>
                        Problemas para acessar? 
                        <a href="suporte.html">
                            <i class="fas fa-question-circle"></i> Suporte
                        </a>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- MODAL DE CADASTRO DE USUÁRIO -->
    <div id="cadastroModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-user-plus"></i> CRIAR NOVA CONTA</h3>
                <button class="btn-close" onclick="fecharCadastro()">×</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="novoUsuario"><i class="fas fa-user"></i> NOME COMPLETO *</label>
                    <input type="text" id="novoUsuario" class="form-input" placeholder="Digite seu nome completo">
                </div>
                
                <div class="form-group">
                    <label for="novoEmail"><i class="fas fa-envelope"></i> E-MAIL *</label>
                    <input type="email" id="novoEmail" class="form-input" placeholder="seu@email.com">
                </div>
                
                <div class="form-group">
                    <label for="novoUsuarioLogin"><i class="fas fa-user-circle"></i> NOME DE USUÁRIO *</label>
                    <input type="text" id="novoUsuarioLogin" class="form-input" placeholder="Escolha um nome de usuário">
                </div>
                
                <div class="form-group">
                    <label for="novaSenha"><i class="fas fa-lock"></i> SENHA *</label>
                    <input type="password" id="novaSenha" class="form-input" placeholder="Mínimo 6 caracteres">
                </div>
                
                <div class="form-group">
                    <label for="confirmarSenha"><i class="fas fa-lock"></i> CONFIRMAR SENHA *</label>
                    <input type="password" id="confirmarSenha" class="form-input" placeholder="Digite a senha novamente">
                </div>
                
                <div class="form-group">
                    <label for="tipoUsuario"><i class="fas fa-user-tag"></i> TIPO DE USUÁRIO</label>
                    <select id="tipoUsuario" class="form-input">
                        <option value="vendedor">Vendedor</option>
                        <option value="admin">Administrador</option>
                    </select>
                </div>
                
                <div id="cadastroError" class="login-error"></div>
                <div id="cadastroSuccess" class="login-success"></div>
            </div>
            <div class="modal-footer">
                <button onclick="fecharCadastro()" class="btn-secondary">Cancelar</button>
                <button onclick="criarNovaConta()" class="btn-primary">Criar Conta</button>
            </div>
        </div>
    </div>

    <!-- SISTEMA PRINCIPAL (será carregado após login) -->
    <div id="mainSystem">
        <div class="loading">
            <div class="spinner"></div>
            <p>Carregando Sistema Fênix...</p>
        </div>
    </div>

    <!-- FONT AWESOME -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    
    <!-- FIREBASE -->
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js"></script>
    
    <!-- EXCELJS PARA EXPORTAÇÃO -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/exceljs/4.4.0/exceljs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    
    <!-- SEUS ARQUIVOS ORIGINAIS -->
    <script src="firebase-config.js"></script>
    <script src="sistema-de-autenticação.js"></script>
    <script src="clientes.db.js"></script>
    <script src="script.js"></script>
    
    <script>
        // VARIÁVEIS GLOBAIS
        let db = null;
        let currentUser = null;
        
        // FUNÇÕES DE INTERFACE
        function mostrarCadastro() {
            document.getElementById('cadastroModal').style.display = 'flex';
            limparMensagensCadastro();
        }
        
        function fecharCadastro() {
            document.getElementById('cadastroModal').style.display = 'none';
            limparFormularioCadastro();
        }
        
        function limparMensagensCadastro() {
            document.getElementById('cadastroError').textContent = '';
            document.getElementById('cadastroSuccess').textContent = '';
        }
        
        function limparFormularioCadastro() {
            document.getElementById('novoUsuario').value = '';
            document.getElementById('novoEmail').value = '';
            document.getElementById('novoUsuarioLogin').value = '';
            document.getElementById('novaSenha').value = '';
            document.getElementById('confirmarSenha').value = '';
            document.getElementById('tipoUsuario').value = 'vendedor';
            limparMensagensCadastro();
        }
        
        // FUNÇÃO PARA CRIAR NOVA CONTA NO FIREBASE
        async function criarNovaConta() {
            const nome = document.getElementById('novoUsuario').value.trim();
            const email = document.getElementById('novoEmail').value.trim();
            const username = document.getElementById('novoUsuarioLogin').value.trim();
            const senha = document.getElementById('novaSenha').value;
            const confirmarSenha = document.getElementById('confirmarSenha').value;
            const tipo = document.getElementById('tipoUsuario').value;
            
            const errorEl = document.getElementById('cadastroError');
            const successEl = document.getElementById('cadastroSuccess');
            
            // Limpar mensagens
            errorEl.textContent = '';
            successEl.textContent = '';
            
            // Validações
            if (!nome || !email || !username || !senha || !confirmarSenha) {
                errorEl.textContent = 'Por favor, preencha todos os campos.';
                return;
            }
            
            if (senha.length < 6) {
                errorEl.textContent = 'A senha deve ter no mínimo 6 caracteres.';
                return;
            }
            
            if (senha !== confirmarSenha) {
                errorEl.textContent = 'As senhas não coincidem.';
                return;
            }
            
            if (!email.includes('@') || !email.includes('.')) {
                errorEl.textContent = 'Por favor, insira um e-mail válido.';
                return;
            }
            
            try {
                // 1. Criar usuário no Firebase Authentication
                const userCredential = await firebase.auth().createUserWithEmailAndPassword(email, senha);
                const user = userCredential.user;
                
                // 2. Salvar informações adicionais no Firestore
                await firebase.firestore().collection('usuarios').doc(user.uid).set({
                    nome: nome,
                    email: email,
                    username: username,
                    tipo: tipo,
                    dataCriacao: firebase.firestore.FieldValue.serverTimestamp(),
                    ultimoLogin: firebase.firestore.FieldValue.serverTimestamp(),
                    ativo: true
                });
                
                // 3. Mostrar sucesso
                successEl.textContent = '✅ Conta criada com sucesso! Você já pode fazer login.';
                errorEl.textContent = '';
                
                // 4. Fechar modal após 2 segundos
                setTimeout(() => {
                    fecharCadastro();
                    // Preencher campos de login com novo usuário
                    document.getElementById('loginUsuario').value = username;
                    document.getElementById('loginSenha').value = '';
                    document.getElementById('loginUsuario').focus();
                }, 2000);
                
            } catch (error) {
                console.error('Erro ao criar conta:', error);
                
                // Mensagens de erro mais amigáveis
                switch(error.code) {
                    case 'auth/email-already-in-use':
                        errorEl.textContent = 'Este e-mail já está em uso.';
                        break;
                    case 'auth/invalid-email':
                        errorEl.textContent = 'E-mail inválido.';
                        break;
                    case 'auth/weak-password':
                        errorEl.textContent = 'A senha é muito fraca. Use pelo menos 6 caracteres.';
                        break;
                    default:
                        errorEl.textContent = 'Erro ao criar conta: ' + error.message;
                }
            }
        }
        
        // FUNÇÃO DE LOGIN (atualizada)
        async function fazerLogin() {
            const username = document.getElementById('loginUsuario').value.trim();
            const senha = document.getElementById('loginSenha').value;
            const errorEl = document.getElementById('loginError');
            const successEl = document.getElementById('loginSuccess');
            
            errorEl.textContent = '';
            successEl.textContent = '';
            
            if (!username || !senha) {
                errorEl.textContent = 'Por favor, preencha todos os campos.';
                return;
            }
            
            try {
                // Primeiro, buscar o usuário pelo username no Firestore
                const usuariosRef = firebase.firestore().collection('usuarios');
                const querySnapshot = await usuariosRef.where('username', '==', username).get();
                
                if (querySnapshot.empty) {
                    errorEl.textContent = 'Usuário não encontrado.';
                    return;
                }
                
                // Obter o email do usuário
                const userData = querySnapshot.docs[0].data();
                const userEmail = userData.email;
                
                // Fazer login com email e senha
                const userCredential = await firebase.auth().signInWithEmailAndPassword(userEmail, senha);
                currentUser = userCredential.user;
                
                // Atualizar último login
                await usuariosRef.doc(currentUser.uid).update({
                    ultimoLogin: firebase.firestore.FieldValue.serverTimestamp()
                });
                
                // Mostrar sucesso
                successEl.textContent = '✓ Login realizado com sucesso!';
                
                // Carregar sistema principal após 1 segundo
                setTimeout(() => {
                    carregarSistemaPrincipal(userData);
                }, 1000);
                
            } catch (error) {
                console.error('Erro no login:', error);
                
                switch(error.code) {
                    case 'auth/user-not-found':
                    case 'auth/wrong-password':
                        errorEl.textContent = 'Usuário ou senha incorretos.';
                        break;
                    case 'auth/too-many-requests':
                        errorEl.textContent = 'Muitas tentativas. Tente novamente mais tarde.';
                        break;
                    default:
                        errorEl.textContent = 'Erro ao fazer login: ' + error.message;
                }
            }
        }
        
        // CARREGAR SISTEMA PRINCIPAL
        function carregarSistemaPrincipal(userData) {
            document.getElementById('loginScreen').style.display = 'none';
            document.getElementById('mainSystem').style.display = 'block';
            
            // Carregar o HTML do sistema principal
            carregarInterfacePrincipal(userData);
        }
        
        // INTERFACE DO SISTEMA PRINCIPAL
        function carregarInterfacePrincipal(userData) {
            const mainSystem = document.getElementById('mainSystem');
            
            // Interface do sistema (mantendo seu design original)
            mainSystem.innerHTML = `
                <style>
                    /* ESTILOS DO SISTEMA PRINCIPAL */
                    .system-container {
                        display: flex;
                        min-height: 100vh;
                    }
                    
                    /* SIDEBAR */
                    .sidebar {
                        width: 250px;
                        background: #2c3e50;
                        color: white;
                        padding: 20px 0;
                    }
                    
                    .sidebar-header {
                        padding: 0 20px 20px;
                        border-bottom: 1px solid #34495e;
                        margin-bottom: 20px;
                    }
                    
                    .sidebar-header h2 {
                        color: #FF6B00;
                        font-size: 18px;
                    }
                    
                    .sidebar-menu {
                        list-style: none;
                    }
                    
                    .sidebar-menu li {
                        padding: 0;
                    }
                    
                    .sidebar-menu a {
                        display: flex;
                        align-items: center;
                        padding: 15px 20px;
                        color: #ecf0f1;
                        text-decoration: none;
                        transition: all 0.3s;
                    }
                    
                    .sidebar-menu a:hover {
                        background: #34495e;
                        color: #FF6B00;
                    }
                    
                    .sidebar-menu a.active {
                        background: #FF6B00;
                        color: white;
                    }
                    
                    .sidebar-menu i {
                        width: 25px;
                        margin-right: 10px;
                    }
                    
                    /* CONTEÚDO PRINCIPAL */
                    .main-content {
                        flex: 1;
                        background: #f5f5f5;
                    }
                    
                    /* TOP BAR */
                    .top-bar {
                        background: white;
                        padding: 15px 30px;
                        display: flex;
                        justify-content: space-between;
                        align-items: center;
                        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
                    }
                    
                    .user-info {
                        display: flex;
                        align-items: center;
                        gap: 15px;
                    }
                    
                    .user-avatar {
                        width: 40px;
                        height: 40px;
                        background: #FF6B00;
                        border-radius: 50%;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        color: white;
                        font-weight: bold;
                    }
                    
                    .btn-logout {
                        background: #e74c3c;
                        color: white;
                        border: none;
                        padding: 8px 15px;
                        border-radius: 4px;
                        cursor: pointer;
                        font-weight: 600;
                    }
                    
                    /* CONTEÚDO */
                    .content-area {
                        padding: 30px;
                    }
                    
                    /* FORMULÁRIO DE CLIENTE */
                    .form-section {
                        background: white;
                        border-radius: 8px;
                        padding: 30px;
                        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                    }
                    
                    .form-title {
                        color: #2c3e50;
                        margin-bottom: 25px;
                        padding-bottom: 15px;
                        border-bottom: 2px solid #FF6B00;
                    }
                    
                    .form-grid {
                        display: grid;
                        grid-template-columns: repeat(2, 1fr);
                        gap: 20px;
                        margin-bottom: 25px;
                    }
                    
                    .form-actions {
                        display: flex;
                        gap: 15px;
                        justify-content: flex-end;
                        margin-top: 30px;
                    }
                    
                    .btn {
                        padding: 12px 25px;
                        border: none;
                        border-radius: 6px;
                        font-weight: 600;
                        cursor: pointer;
                        display: inline-flex;
                        align-items: center;
                        gap: 8px;
                    }
                    
                    .btn-primary {
                        background: #FF6B00;
                        color: white;
                    }
                    
                    .btn-secondary {
                        background: #7f8c8d;
                        color: white;
                    }
                    
                    .btn-success {
                        background: #27ae60;
                        color: white;
                    }
                    
                    /* TABELA DE CLIENTES */
                    .table-container {
                        background: white;
                        border-radius: 8px;
                        padding: 20px;
                        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
                        overflow-x: auto;
                    }
                    
                    .clientes-table {
                        width: 100%;
                        border-collapse: collapse;
                    }
                    
                    .clientes-table th {
                        background: #2c3e50;
                        color: white;
                        padding: 15px;
                        text-align: left;
                    }
                    
                    .clientes-table td {
                        padding: 12px 15px;
                        border-bottom: 1px solid #eee;
                    }
                    
                    .clientes-table tr:hover {
                        background: #f9f9f9;
                    }
                    
                    .btn-action {
                        padding: 5px 10px;
                        margin: 0 3px;
                        border: none;
                        border-radius: 4px;
                        cursor: pointer;
                        font-size: 12px;
                    }
                    
                    .btn-edit {
                        background: #3498db;
                        color: white;
                    }
                    
                    .btn-delete {
                        background: #e74c3c;
                        color: white;
                    }
                    
                    .btn-export {
                        background: #27ae60;
                        color: white;
                    }
                    
                    /* RESPONSIVO */
                    @media (max-width: 768px) {
                        .system-container {
                            flex-direction: column;
                        }
                        
                        .sidebar {
                            width: 100%;
                            order: 2;
                        }
                        
                        .form-grid {
                            grid-template-columns: 1fr;
                        }
                    }
                </style>
                
                <div class="system-container">
                    <!-- MENU LATERAL -->
                    <aside class="sidebar">
                        <div class="sidebar-header">
                            <h2><i class="fas fa-fire"></i> FÊNIX SYSTEM</h2>
                            <p>${userData.nome} (${userData.tipo})</p>
                        </div>
                        
                        <ul class="sidebar-menu">
                            <li><a href="#" class="active" onclick="mostrarFormulario()"><i class="fas fa-plus-circle"></i> Novo Cliente</a></li>
                            <li><a href="#" onclick="mostrarClientes()"><i class="fas fa-users"></i> Ver Clientes</a></li>
                            <li><a href="#" onclick="exportarExcel()"><i class="fas fa-file-excel"></i> Exportar Excel</a></li>
                            <li><a href="#" onclick="fazerLogout()"><i class="fas fa-sign-out-alt"></i> Sair</a></li>
                        </ul>
                    </aside>
                    
                    <!-- CONTEÚDO PRINCIPAL -->
                    <div class="main-content">
                        <!-- TOP BAR -->
                        <div class="top-bar">
                            <h1>Gestão de Clientes</h1>
                            <div class="user-info">
                                <div class="user-avatar">
                                    ${userData.nome.charAt(0).toUpperCase()}
                                </div>
                                <div>
                                    <strong>${userData.nome}</strong>
                                    <p style="font-size: 12px; color: #666;">${userData.tipo}</p>
                                </div>
                                <button class="btn-logout" onclick="fazerLogout()">
                                    <i class="fas fa-sign-out-alt"></i> Sair
                                </button>
                            </div>
                        </div>
                        
                        <!-- ÁREA DE CONTEÚDO -->
                        <div class="content-area">
                            <!-- FORMULÁRIO DE CLIENTE -->
                            <div id="formSection" class="form-section">
                                <h2 class="form-title"><i class="fas fa-user-plus"></i> CADASTRAR NOVO CLIENTE</h2>
                                
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="clienteCnpj"><i class="fas fa-id-card"></i> CNPJ</label>
                                        <input type="text" id="clienteCnpj" class="form-input" placeholder="00.000.000/0000-00">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="clienteNome"><i class="fas fa-building"></i> Empresa/Marca</label>
                                        <input type="text" id="clienteNome" class="form-input" placeholder="Nome da empresa">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="clienteResponsavel"><i class="fas fa-user-tie"></i> Responsável</label>
                                        <input type="text" id="clienteResponsavel" class="form-input" placeholder="Nome do responsável">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="clienteTelefone"><i class="fas fa-phone"></i> Telefone</label>
                                        <input type="text" id="clienteTelefone" class="form-input" placeholder="(00) 00000-0000">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="clienteEmail"><i class="fas fa-envelope"></i> E-mail</label>
                                        <input type="email" id="clienteEmail" class="form-input" placeholder="cliente@email.com">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="clienteVendedor"><i class="fas fa-user-check"></i> Vendedor Responsável</label>
                                        <select id="clienteVendedor" class="form-input">
                                            <option value="">Selecione...</option>
                                            <option value="PATRICIA">PATRICIA</option>
                                            <option value="JULYA">JULYA</option>
                                            <option value="NATALY">NATALY</option>
                                            <option value="EVELYN">EVELYN</option>
                                            <option value="ISABELLE">ISABELLE</option>
                                            <option value="OUTRO">OUTRO</option>
                                        </select>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="clienteValor"><i class="fas fa-dollar-sign"></i> Valor do Contrato (R$)</label>
                                        <input type="number" id="clienteValor" class="form-input" placeholder="0.00" step="0.01">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="clienteStatus"><i class="fas fa-circle"></i> Status</label>
                                        <select id="clienteStatus" class="form-input">
                                            <option value="Ativo">Ativo</option>
                                            <option value="Inativo">Inativo</option>
                                            <option value="Pendente">Pendente</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="clienteObservacoes"><i class="fas fa-sticky-note"></i> Observações</label>
                                    <textarea id="clienteObservacoes" class="form-input" rows="3" placeholder="Observações importantes..."></textarea>
                                </div>
                                
                                <div class="form-actions">
                                    <button class="btn btn-secondary" onclick="limparFormularioCliente()">
                                        <i class="fas fa-times"></i> Limpar
                                    </button>
                                    <button class="btn btn-primary" onclick="salvarCliente()">
                                        <i class="fas fa-save"></i> Salvar Cliente
                                    </button>
                                </div>
                            </div>
                            
                            <!-- LISTA DE CLIENTES (OCULTA INICIALMENTE) -->
                            <div id="listaSection" class="table-container" style="display: none;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                                    <h2 class="form-title"><i class="fas fa-users"></i> CLIENTES CADASTRADOS</h2>
                                    <button class="btn btn-success" onclick="exportarExcel()">
                                        <i class="fas fa-file-excel"></i> Exportar Excel
                                    </button>
                                </div>
                                
                                <table class="clientes-table" id="tabelaClientes">
                                    <thead>
                                        <tr>
                                            <th>
